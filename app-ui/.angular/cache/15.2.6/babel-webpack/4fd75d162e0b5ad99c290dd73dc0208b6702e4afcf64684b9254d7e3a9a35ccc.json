{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AuthService {\n  constructor(http) {\n    this.http = http;\n  }\n  login(email, password) {}\n  register(email, passsword) {}\n  setSession(token) {}\n  logout() {\n    localStorage.removeItem(\"id_token\");\n    localStorage.removeItem(\"expires_at\");\n  }\n  isLoggedIn() {\n    return moment().isBefore(this.getExpiration());\n  }\n  getExpiration() {\n    const expiration = localStorage.getItem(\"expires_at\");\n    if (expiration) return moment(JSON.parse(expiration));else return 0;\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAOA,OAAM,MAAOA,WAAW;EAEtBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAgB;EAEjCC,KAAK,CAACC,KAAa,EAAEC,QAAgB,GAE5C;EAEOC,QAAQ,CAACF,KAAa,EAAEG,SAAiB,GAChD;EACQC,UAAU,CAACC,KAAa,GAGhC;EAEOC,MAAM;IACXC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;IACnCD,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC;EACvC;EACOC,UAAU;IACf,OAAOC,MAAM,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACC,aAAa,EAAE,CAAC;EAChD;EACQA,aAAa;IACnB,MAAMC,UAAU,GAAGN,YAAY,CAACO,OAAO,CAAC,YAAY,CAAC;IACrD,IAAID,UAAU,EACZ,OAAOH,MAAM,CAACK,IAAI,CAACC,KAAK,CAACH,UAAU,CAAC,CAAC,CAAC,KACnC,OAAO,CAAC;EACf;;AA3BWjB,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAqB,SAAXrB,WAAW;EAAAsB,YAFV;AAAM","names":["AuthService","constructor","http","login","email","password","register","passsword","setSession","token","logout","localStorage","removeItem","isLoggedIn","moment","isBefore","getExpiration","expiration","getItem","JSON","parse","factory","providedIn"],"sourceRoot":"","sources":["/home/alaeddine/Desktop/big-data-project/movie-recommendation-app-ui/src/app/services/auth.service.ts"],"sourcesContent":["import { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { catchError, map, Observable, shareReplay, tap, throwError } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(private http: HttpClient) { }\n\n  public login(email: string, password: string) {\n\n  }\n\n  public register(email: string, passsword: string) {\n  }\n  private setSession(token: string) {\n\n\n  }\n\n  public logout() {\n    localStorage.removeItem(\"id_token\");\n    localStorage.removeItem(\"expires_at\");\n  }\n  public isLoggedIn() {\n    return moment().isBefore(this.getExpiration());\n  }\n  private getExpiration() {\n    const expiration = localStorage.getItem(\"expires_at\");\n    if (expiration)\n      return moment(JSON.parse(expiration));\n    else return 0\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}